package com.vpa.view;

/*
//Grupo: 
//
//2MSIN
//
//Gabriel de Sousa Leal / RA: 201202909
//
//Andre Pacetti Dassa / RA: 201202384
//
//Eduardo Américo Rodrigues Lopes / RA: 201206168
//
*/

import java.awt.Container;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Locale;
import java.util.ResourceBundle;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JTextField;

import com.vpa.controle.Cliente;

public class LoginTransferencia extends JFrame implements ActionListener
{
	JButton login, voltar;
	   JLabel label0, digiteDados, idCliente, senha;
	   JTextField texto1,texto2;
	   private ResourceBundle bn = null;
	   
		public LoginTransferencia()
		{
			bn = ResourceBundle.getBundle("messages", Locale.getDefault());
			
			setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
			setVisible(true);
	       
			setTitle("Login Tranferir Passagem");
			setBounds(300,50,500,350);
			
	      Container tela = getContentPane();
	      tela.setLayout(new GridLayout(0,2));
	      
	      digiteDados = new JLabel("Digite os dados do dono da passagem");
	      label0 = new JLabel();
	     
	      idCliente = new JLabel("Digite o login do dono da Passagem");
	      texto1 = new JTextField();
	      
	      senha = new JLabel("Digite a Senha");
	      texto2 = new JTextField();
	     
	      login = new JButton(bn.getString("transferenciaPassagem.botConsultar"));
	      login.addActionListener(this);
	      
	      voltar = new JButton(bn.getString("transferenciaPassagem.botVoltar"));
	      voltar.addActionListener(this);
	      
	      
	      tela.add(digiteDados);
	      tela.add(label0);
	      tela.add(idCliente);
	      tela.add(texto1);
	      tela.add(senha);
	      tela.add(texto2);
	      tela.add(login);
	      tela.add(voltar);
	      
			//Intenacionalizar
		}
		
		public void actionPerformed(ActionEvent e)
		{
			String email = texto1.getText();
			String senha = texto2.getText();
			
			boolean clienteLogin = false;
			
			Cliente c = new Cliente();
			clienteLogin = c.loginCliente(email, senha);
			
			if(e.getSource() == login)
			{
				if(clienteLogin)
				{
					
					new TransferenciaPassagem();
					dispose(); // fazer
				}
				else
				{
					JOptionPane.showMessageDialog(null, "erro");
				}
			}
			
			if(e.getSource() == voltar)
			{
				MenuPassagem mp = new MenuPassagem();
				dispose();
			}
		}
}
